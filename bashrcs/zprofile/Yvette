# zprofile for Yvette

lockfile=".zprofile.Yvette.lock"

if (set -o noclobber; echo "lock" > $lockfile) 2> /dev/null; then
    trap 'rm -f "$lockfile"' INT TERM EXIT

    source ${DOTFILES_DIR}/bashrcs/login/conda.zsh
    source ${DOTFILES_DIR}/bashrcs/bashrc_conda
    source ${DOTFILES_DIR}/bashrcs/login/thefuck
    source ${DOTFILES_DIR}/bashrcs/login/ruby

    rm -f $lockfile
    unset lockfile
    trap INT TERM EXIT
else
    sleep 1  # to wait out the setup
fi
